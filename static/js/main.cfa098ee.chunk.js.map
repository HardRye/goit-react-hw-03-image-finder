{"version":3,"sources":["components/ImageFinder/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageFinder/ImageGallery/ImageGallery.module.css","components/ImageFinder/Button/Button.module.css","helpers/fetchImagesFunction.js","helpers/imagesMapper.js","components/ImageFinder/Searchbar/Searchbar.js","components/ImageFinder/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageFinder/ImageGallery/ImageGallery.js","components/ImageFinder/Modal/Modal.js","components/ImageFinder/Button/Button.js","components/ImageFinder/ImageFinder.js","components/App/App.js","index.js","components/ImageFinder/Searchbar/Searchbar.module.css","components/ImageFinder/Modal/Modal.module.css"],"names":["module","exports","URL","fetchImagesFunction","query","page","axios","get","imagesMapper","arr","map","el","id","webformatURL","largeImageURL","tags","Searchbar","state","input","handleSubmit","e","preventDefault","handleFormSubmit","props","setState","handleInput","target","value","this","className","styles","searchBar","searchForm","onSubmit","type","searchFormButton","searchFormButtonLabel","autoComplete","placeholder","searchFormInput","onChange","Component","GalleryItem","imageSrc","alt","handleLargeImage","item","data-id","onClick","role","src","itemImage","Gallery","photos","imageGallery","photo","ImageGalleryItem","Modal","isModalOpen","overlayRef","createRef","componentDidMount","window","addEventListener","handleKeyPress","componentWillUnmount","removeEventListener","event","code","toggleModal","prevState","handleModalClose","handleOverlayClick","current","overlay","ref","modal","img","Button","handleLoadMoreButton","button","ImageFinder","searchQuery","pageNumber","isLoader","error","galleryRef","then","data","hits","catch","finally","handleScroll","currentTarget","dataset","find","Number","height","scrollTo","top","behavior","prevProps","scrollHeight","length","ImageGallery","style","margin","width","color","message","App","ReactDOM","render","document","getElementById"],"mappings":"oIACAA,EAAOC,QAAU,CAAC,KAAO,+BAA+B,UAAY,sC,mBCApED,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,qKCErBC,EAAG,uCADO,qCACP,wDAKMC,EAHa,SAACC,GAAD,IAAQC,EAAR,uDAAe,EAAf,OAC1BC,IAAMC,IAAN,UAAaL,EAAb,cAAsBE,EAAtB,iBAAoCC,KCEvBG,EARM,SAAAC,GAAG,OACtBA,EAAIC,KAAI,SAAAC,GAAE,MAAK,CACbC,GAAID,EAAGC,GACPC,aAAcF,EAAGE,aACjBC,cAAeH,EAAGG,cAClBC,KAAMJ,EAAGI,U,gBC4CEC,E,4MA3CbC,MAAQ,CACNC,MAAO,I,EAOTC,aAAe,SAAAC,GACbA,EAAEC,iBADgB,IAEVH,EAAU,EAAKD,MAAfC,OAERI,EAD6B,EAAKC,MAA1BD,kBACSJ,GACjB,EAAKM,SAAS,CAAEN,MAAO,M,EAGzBO,YAAc,YAAiB,IAAdC,EAAa,EAAbA,OACf,EAAKF,SAAS,CAAEN,MAAOQ,EAAOC,S,uDAGtB,IACAT,EAAUU,KAAKX,MAAfC,MACR,OACE,wBAAQW,UAAWC,IAAOC,UAA1B,SACE,uBAAMF,UAAWC,IAAOE,WAAYC,SAAUL,KAAKT,aAAnD,UACE,wBAAQe,KAAK,SAASL,UAAWC,IAAOK,iBAAxC,SACE,sBAAMN,UAAWC,IAAOM,sBAAxB,sBAGF,uBACEF,KAAK,OACLG,aAAa,MACbC,YAAY,2BACZX,MAAOT,EACPW,UAAWC,IAAOS,gBAClBC,SAAUZ,KAAKH,uB,GApCHgB,a,iBCmBTC,EApBK,SAAC,GAA6C,IAA3C9B,EAA0C,EAA1CA,GAAI+B,EAAsC,EAAtCA,SAAUC,EAA4B,EAA5BA,IAAKC,EAAuB,EAAvBA,iBACxC,OACE,oBACEhB,UAAWC,IAAOgB,KAClBC,UAASnC,EACToC,QAASH,EACTI,KAAK,eAJP,SAME,qBAAKC,IAAKP,EAAUC,IAAKA,EAAKf,UAAWC,IAAOqB,e,iBCkBvCC,EAzBC,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQR,EAAX,EAAWA,iBAAX,OACd,oBAAIhB,UAAWC,IAAOwB,aAAtB,SACGD,EAAO3C,KAAI,SAAA6C,GAAK,OACf,cAACC,EAAD,CAEE5C,GAAI2C,EAAM3C,GACV+B,SAAUY,EAAM1C,aAChB+B,IAAKW,EAAMxC,KACX8B,iBAAkBA,GAJbU,EAAM3C,U,gBCuDJ6C,E,4MA3DbxC,MAAQ,CACNyC,aAAa,G,EAQfC,WAAaC,sB,EAEbC,kBAAoB,WAClBC,OAAOC,iBAAiB,UAAW,EAAKC,iB,EAG1CC,qBAAuB,WACrBH,OAAOI,oBAAoB,UAAW,EAAKF,iB,EAG7CA,eAAiB,SAAAG,GACI,WAAfA,EAAMC,MACV,EAAKC,e,EAGPA,YAAc,WACZ,EAAK7C,UAAS,SAAA8C,GAAS,MAAK,CAC1BZ,aAAcY,EAAUZ,gBAE1B,EAAKnC,MAAMgD,oB,EAGbC,mBAAqB,SAAAL,GAAU,IACrBM,EAAY,EAAKd,WAAjBc,QACJA,GAAWN,EAAMzC,SAAW+C,GAChC,EAAKJ,e,uDAGG,IACAvD,EAAkBc,KAAKL,MAAvBT,cACA4C,EAAgB9B,KAAKX,MAArByC,YACR,OACE,mCACGA,GACC,qBACE7B,UAAWC,IAAO4C,QAClB1B,QAASpB,KAAK4C,mBACdG,IAAK/C,KAAK+B,WACVV,KAAK,eAJP,SAME,qBAAKpB,UAAWC,IAAO8C,MAAvB,SACE,qBAAK1B,IAAKpC,EAAe8B,IAAI,GAAGf,UAAWC,IAAO+C,gB,GAnD5CpC,a,iBCcLqC,EAdA,SAAC,GAAD,IAAGC,EAAH,EAAGA,qBAAH,OACb,wBACE7C,KAAK,SACLL,UAAWC,IAAOkD,OAClBhC,QAAS+B,EAHX,wBCmHaE,E,4MA9GbhE,MAAQ,CACNiE,YAAa,GACbC,WAAY,EACZ9B,OAAQ,GACRvC,cAAe,GACfsE,UAAU,EACVC,MAAO,M,EAGTC,WAAa1B,sB,EAwBbtC,iBAAmB,SAAAJ,GAAU,IACnBgE,EAAgB,EAAKjE,MAArBiE,YACJhE,IAAUgE,GAEd/E,EAAoBe,GACjBqE,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACP,EAAKhE,SAAS,CACZ2D,WAAY,EACZD,YAAahE,EACbmC,OAAQ7C,EAAagF,EAAKC,WAG7BC,OAAM,SAAAL,GAAK,OAAI,EAAK7D,SAAS,CAAE6D,aAC/BM,SAAQ,WACP,EAAKC,mB,EAIXb,qBAAuB,WACrB,EAAKvD,UAAS,SAAA8C,GAAS,MAAK,CAC1Ba,WAAYb,EAAUa,WAAa,EACnCC,UAAU,O,EAIdvC,iBAAmB,YAAwB,IAArBgD,EAAoB,EAApBA,cACZxC,EAAW,EAAKpC,MAAhBoC,OACAzC,EAAOiF,EAAcC,QAArBlF,GACAE,EAAkBuC,EAAO0C,MAAK,SAAAxC,GAAK,OAAIA,EAAM3C,KAAOoF,OAAOpF,MAA3DE,cACR,EAAKU,SAAS,CAAEV,mB,EAGlByD,iBAAmB,WACjB,EAAK/C,SAAS,CAAEV,cAAe,M,EAGjC8E,aAAe,WAAiB,IAAhBK,EAAe,uDAAN,EACvBnC,OAAOoC,SAAS,CACdC,IAAKF,EACLG,SAAU,Y,iEA7DKC,EAAW/B,GAAY,IAAD,SACH1C,KAAKX,MAAjCiE,EAD+B,EAC/BA,YAAaC,EADkB,EAClBA,WACbmB,EAAiB1E,KAAK0D,WAAWb,QAAjC6B,aAGNhC,EAAUa,aAAeA,GACzBb,EAAUY,cAAgBA,GAE1B/E,EAAoB+E,EAAaC,GAC9BI,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACJ,EAAKhE,UAAS,iBAAO,CACnB6B,OAAO,GAAD,mBAAMiB,EAAUjB,QAAhB,YAA2B7C,EAAagF,EAAKC,eAGtDC,OAAM,SAAAL,GAAK,OAAI,EAAK7D,SAAS,CAAE6D,aAC/BM,SAAQ,WACP,EAAKC,aAAaU,GAClB,EAAK9E,SAAS,CAAE4D,UAAU,S,+BAgDxB,IAAD,EAC4CxD,KAAKX,MAAhDoC,EADD,EACCA,OAAQvC,EADT,EACSA,cAAesE,EADxB,EACwBA,SAAUC,EADlC,EACkCA,MACzC,OACE,qCACE,cAAC,EAAD,CAAW/D,iBAAkBM,KAAKN,mBACjC+B,EAAOkD,OAAS,GACf,qCACE,qBAAK5B,IAAK/C,KAAK0D,WAAf,SACE,cAACkB,EAAD,CACEnD,OAAQA,EACRR,iBAAkBjB,KAAKiB,qBAG1BuC,GACC,qBAAKqB,MAAO,CAAEC,OAAQ,SAAUC,MAAO,QAAvC,SACE,cAAC,IAAD,CAAQzE,KAAK,SAAS0E,MAAM,UAAUX,OAAQ,GAAIU,MAAO,OAG7D,cAAC,EAAD,CAAQ5B,qBAAsBnD,KAAKmD,0BAItCjE,EAAcyF,OAAS,GACtB,cAAC,EAAD,CACEzF,cAAeA,EACfyD,iBAAkB3C,KAAK2C,mBAG1Bc,GAAS,+DAAkCA,EAAMwB,kB,GAzGhCpE,aCJXqE,EAFH,kBAAM,cAAC,EAAD,K,MCGlBC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,U,kBCLjDlH,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,kBCAhPD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,qBAAqB,IAAM,sB","file":"static/js/main.cfa098ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3jvx3\",\"itemImage\":\"ImageGalleryItem_itemImage__L8fmD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__gfU-Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2xx0N\"};","import axios from 'axios';\n\nconst API_KEY = '13135651-038714fd5931f83068ad66fd3';\nconst URL = `https://pixabay.com/api/?key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\nconst fetchImagesFunction = (query, page = 1) =>\n  axios.get(`${URL}&q=${query}&page=${page}`);\n\nexport default fetchImagesFunction;\n","const imagesMapper = arr =>\n  arr.map(el => ({\n    id: el.id,\n    webformatURL: el.webformatURL,\n    largeImageURL: el.largeImageURL,\n    tags: el.tags,\n  }));\n\nexport default imagesMapper;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    input: '',\n  };\n\n  static propTypes = {\n    handleFormSubmit: PropTypes.func.isRequired,\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { input } = this.state;\n    const { handleFormSubmit } = this.props;\n    handleFormSubmit(input);\n    this.setState({ input: '' });\n  };\n\n  handleInput = ({ target }) => {\n    this.setState({ input: target.value });\n  };\n\n  render() {\n    const { input } = this.state;\n    return (\n      <header className={styles.searchBar}>\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.searchFormButton}>\n            <span className={styles.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            type=\"text\"\n            autoComplete=\"off\"\n            placeholder=\"Search images and photos\"\n            value={input}\n            className={styles.searchFormInput}\n            onChange={this.handleInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst GalleryItem = ({ id, imageSrc, alt, handleLargeImage }) => {\n  return (\n    <li\n      className={styles.item}\n      data-id={id}\n      onClick={handleLargeImage}\n      role=\"presentation\"\n    >\n      <img src={imageSrc} alt={alt} className={styles.itemImage} />\n    </li>\n  );\n};\n\nGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  imageSrc: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  handleLargeImage: PropTypes.func.isRequired,\n};\n\nexport default GalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst Gallery = ({ photos, handleLargeImage }) => (\n  <ul className={styles.imageGallery}>\n    {photos.map(photo => (\n      <ImageGalleryItem\n        key={photo.id}\n        id={photo.id}\n        imageSrc={photo.webformatURL}\n        alt={photo.tags}\n        handleLargeImage={handleLargeImage}\n      />\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  photos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  handleLargeImage: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  state = {\n    isModalOpen: true,\n  };\n\n  static propTypes = {\n    largeImageURL: PropTypes.string.isRequired,\n    handleModalClose: PropTypes.func.isRequired,\n  };\n\n  overlayRef = createRef();\n\n  componentDidMount = () => {\n    window.addEventListener('keydown', this.handleKeyPress);\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  };\n\n  handleKeyPress = event => {\n    if (event.code !== 'Escape') return;\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      isModalOpen: !prevState.isModalOpen,\n    }));\n    this.props.handleModalClose();\n  };\n\n  handleOverlayClick = event => {\n    const { current } = this.overlayRef;\n    if (current && event.target !== current) return;\n    this.toggleModal();\n  };\n\n  render() {\n    const { largeImageURL } = this.props;\n    const { isModalOpen } = this.state;\n    return (\n      <>\n        {isModalOpen && (\n          <div\n            className={styles.overlay}\n            onClick={this.handleOverlayClick}\n            ref={this.overlayRef}\n            role=\"presentation\"\n          >\n            <div className={styles.modal}>\n              <img src={largeImageURL} alt=\"\" className={styles.img} />\n            </div>\n          </div>\n        )}\n      </>\n    );\n  }\n}\n\nexport default Modal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ handleLoadMoreButton }) => (\n  <button\n    type=\"button\"\n    className={styles.button}\n    onClick={handleLoadMoreButton}\n  >\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  handleLoadMoreButton: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component, createRef } from 'react';\nimport Loader from 'react-loader-spinner';\nimport fetchImagesFunction from '../../helpers/fetchImagesFunction';\nimport imagesMapper from '../../helpers/imagesMapper';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Modal from './Modal/Modal';\nimport Button from './Button/Button';\n\nclass ImageFinder extends Component {\n  state = {\n    searchQuery: '',\n    pageNumber: 1,\n    photos: [],\n    largeImageURL: '',\n    isLoader: false,\n    error: null,\n  };\n\n  galleryRef = createRef();\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, pageNumber } = this.state;\n    const { scrollHeight } = this.galleryRef.current;\n\n    if (\n      prevState.pageNumber !== pageNumber &&\n      prevState.searchQuery === searchQuery\n    ) {\n      fetchImagesFunction(searchQuery, pageNumber)\n        .then(({ data }) =>\n          this.setState(() => ({\n            photos: [...prevState.photos, ...imagesMapper(data.hits)],\n          })),\n        )\n        .catch(error => this.setState({ error }))\n        .finally(() => {\n          this.handleScroll(scrollHeight);\n          this.setState({ isLoader: false });\n        });\n    }\n  }\n\n  handleFormSubmit = input => {\n    const { searchQuery } = this.state;\n    if (input === searchQuery) return;\n\n    fetchImagesFunction(input)\n      .then(({ data }) => {\n        this.setState({\n          pageNumber: 1,\n          searchQuery: input,\n          photos: imagesMapper(data.hits),\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.handleScroll();\n      });\n  };\n\n  handleLoadMoreButton = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n      isLoader: true,\n    }));\n  };\n\n  handleLargeImage = ({ currentTarget }) => {\n    const { photos } = this.state;\n    const { id } = currentTarget.dataset;\n    const { largeImageURL } = photos.find(photo => photo.id === Number(id));\n    this.setState({ largeImageURL });\n  };\n\n  handleModalClose = () => {\n    this.setState({ largeImageURL: '' });\n  };\n\n  handleScroll = (height = 0) => {\n    window.scrollTo({\n      top: height,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { photos, largeImageURL, isLoader, error } = this.state;\n    return (\n      <>\n        <Searchbar handleFormSubmit={this.handleFormSubmit} />\n        {photos.length > 0 && (\n          <>\n            <div ref={this.galleryRef}>\n              <ImageGallery\n                photos={photos}\n                handleLargeImage={this.handleLargeImage}\n              />\n            </div>\n            {isLoader && (\n              <div style={{ margin: '0 auto', width: '80px' }}>\n                <Loader type=\"Hearts\" color=\"#3f51b5\" height={80} width={80} />\n              </div>\n            )}\n            <Button handleLoadMoreButton={this.handleLoadMoreButton} />\n          </>\n        )}\n\n        {largeImageURL.length > 0 && (\n          <Modal\n            largeImageURL={largeImageURL}\n            handleModalClose={this.handleModalClose}\n          />\n        )}\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n      </>\n    );\n  }\n}\n\nexport default ImageFinder;\n","import React from 'react';\nimport ImageFinder from '../ImageFinder/ImageFinder';\n\nconst App = () => <ImageFinder />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"Searchbar_searchBar__2fFvO\",\"searchForm\":\"Searchbar_searchForm__1lO2b\",\"searchFormButton\":\"Searchbar_searchFormButton__36vaO\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__2iiKg\",\"searchFormInput\":\"Searchbar_searchFormInput__3ZHAY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3YeCL\",\"modal\":\"Modal_modal__3yepM\",\"img\":\"Modal_img__yTOGJ\"};"],"sourceRoot":""}