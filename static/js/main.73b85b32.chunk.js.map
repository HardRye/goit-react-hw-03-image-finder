{"version":3,"sources":["components/ImageFinder/SearchForm/SearchForm.module.css","components/ImageFinder/Gallery/Gallery.module.css","components/ImageFinder/Gallery/PhotoCard/PhotoCard.module.css","helpers/fetchImagesFunction.js","helpers/imagesMapper.js","components/ImageFinder/SearchForm/SearchForm.jsx","components/ImageFinder/Gallery/PhotoCard/PhotoCard.jsx","components/ImageFinder/Gallery/Gallery.jsx","components/ImageFinder/Modal/Modal.jsx","components/ImageFinder/ImageFinder.jsx","components/App/App.jsx","index.js","components/ImageFinder/Modal/Modal.module.css"],"names":["module","exports","URL","fetchImagesFunction","query","page","axios","get","imagesMapper","arr","map","el","id","webformatURL","largeImageURL","likes","views","comments","downloads","tags","SearchForm","state","input","handleSubmit","e","preventDefault","handleFormSubmit","props","setState","handleInput","target","value","this","className","styles","searchForm","onSubmit","type","autoComplete","placeholder","onChange","Component","GalleryItem","photo","handleLargeImage","photoCard","src","alt","image","stats","statsItem","fullscreenButton","data-id","onClick","Gallery","photos","handleLoadMoreButton","gallery","PhotoCard","key","button","Modal","isModalOpen","overlayRef","createRef","componentDidMount","window","addEventListener","handleKeyPress","componentWillUnmount","removeEventListener","event","code","toggleModal","prevState","handleModalClose","handleOverlayClick","current","overlay","ref","role","modal","img","defaultProps","ImageFinder","searchQuery","pageNumber","error","then","data","hits","catch","a","scrollTo","top","scrollY","innerHeight","behavior","dataset","find","Number","length","message","App","ReactDOM","render","document","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,WAAa,+BAA+B,MAAQ,4B,mBCAtED,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,0B,kBCA9DD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,MAAQ,yBAAyB,MAAQ,yBAAyB,UAAY,6BAA6B,iBAAmB,sC,8OCEnLC,EAAG,uCADO,qCACP,wDAKMC,EAHa,SAACC,EAAOC,GAAR,OAC1BC,IAAMC,IAAN,UAAaL,EAAb,cAAsBE,EAAtB,iBAAoCC,KCMvBG,EAZM,SAAAC,GAAG,OACtBA,EAAIC,KAAI,SAAAC,GAAE,MAAK,CACbC,GAAID,EAAGC,GACPC,aAAcF,EAAGE,aACjBC,cAAeH,EAAGG,cAClBC,MAAOJ,EAAGI,MACVC,MAAOL,EAAGK,MACVC,SAAUN,EAAGM,SACbC,UAAWP,EAAGO,UACdC,KAAMR,EAAGQ,U,iBCkCEC,E,2MArCbC,MAAQ,CACNC,MAAO,I,EAOTC,aAAe,SAAAC,GACbA,EAAEC,iBADgB,IAEVH,EAAU,EAAKD,MAAfC,OAERI,EAD6B,EAAKC,MAA1BD,kBACSJ,GACjB,EAAKM,SAAS,CAAEN,MAAO,M,EAGzBO,YAAc,YAAiB,IAAdC,EAAa,EAAbA,OACf,EAAKF,SAAS,CAAEN,MAAOQ,EAAOC,S,wEAGtB,IACAT,EAAUU,KAAKX,MAAfC,MACR,OACE,0BAAMW,UAAWC,IAAOC,WAAYC,SAAUJ,KAAKT,cACjD,2BACEc,KAAK,OACLC,aAAa,MACbC,YAAY,mBACZN,UAAWC,IAAOZ,MAClBkB,SAAUR,KAAKH,YACfE,MAAOT,S,GA/BQmB,a,gBCmDVC,EApDK,SAAC,GAAD,QAClBC,MAAS/B,EADS,EACTA,GAAIC,EADK,EACLA,aAAcE,EADT,EACSA,MAAOC,EADhB,EACgBA,MAAOC,EADvB,EACuBA,SAAUC,EADjC,EACiCA,UAAWC,EAD5C,EAC4CA,KAC9DyB,EAFkB,EAElBA,iBAFkB,OAIlB,yBAAKX,UAAWC,IAAOW,WACrB,yBAAKC,IAAKjC,EAAckC,IAAK5B,EAAMc,UAAWC,IAAOc,QAErD,yBAAKf,UAAWC,IAAOe,OACrB,uBAAGhB,UAAWC,IAAOgB,WACnB,uBAAGjB,UAAU,kBAAb,YACClB,GAEH,uBAAGkB,UAAWC,IAAOgB,WACnB,uBAAGjB,UAAU,kBAAb,cACCjB,GAEH,uBAAGiB,UAAWC,IAAOgB,WACnB,uBAAGjB,UAAU,kBAAb,WACChB,GAEH,uBAAGgB,UAAWC,IAAOgB,WACnB,uBAAGjB,UAAU,kBAAb,kBACCf,IAIL,4BACEmB,KAAK,SACLJ,UAAWC,IAAOiB,iBAClBC,UAASxC,EACTyC,QAAST,GAET,uBAAGX,UAAU,iBAAiBmB,UAASxC,GAAvC,mB,iBCMS0C,EArCC,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,qBAAsBZ,EAAjC,EAAiCA,iBAAjC,OACd,oCACE,wBAAIX,UAAWC,IAAOuB,SACnBF,EAAO7C,KAAI,SAAAiC,GAAK,OACf,kBAACe,EAAD,CACEC,IAAKhB,EAAM/B,GACX+B,MAAOA,EACPC,iBAAkBA,QAIxB,4BACEP,KAAK,SACLJ,UAAWC,IAAO0B,OAClBP,QAASG,GAHX,e,gBCZEK,E,2MACJxC,MAAQ,CACNyC,aAAa,G,EAQfC,WAAaC,sB,EAEbC,kBAAoB,WAClBC,OAAOC,iBAAiB,UAAW,EAAKC,iB,EAG1CC,qBAAuB,WACrBH,OAAOI,oBAAoB,UAAW,EAAKF,iB,EAG7CA,eAAiB,SAAAG,GACI,WAAfA,EAAMC,MACV,EAAKC,e,EAGPA,YAAc,WACZ,EAAK7C,UAAS,SAAA8C,GAAS,MAAK,CAC1BZ,aAAcY,EAAUZ,gBAE1B,EAAKnC,MAAMgD,oB,EAGbC,mBAAqB,SAAAL,GAAU,IACrBM,EAAY,EAAKd,WAAjBc,QACJA,GAAWN,EAAMzC,SAAW+C,GAChC,EAAKJ,e,wEAGG,IACA3D,EAAkBkB,KAAKL,MAAvBb,cACAgD,EAAgB9B,KAAKX,MAArByC,YACR,OACE,oCACGA,GACC,yBACE7B,UAAWC,IAAO4C,QAClBzB,QAASrB,KAAK4C,mBACdG,IAAK/C,KAAK+B,WACViB,KAAK,gBAEL,yBAAK/C,UAAWC,IAAO+C,OACrB,yBAAKnC,IAAKhC,EAAeiC,IAAI,GAAGd,UAAWC,IAAOgD,a,GAnD5CzC,aA8DpBoB,EAAMsB,aAAe,GAGNtB,QCgBAuB,E,2MA7Eb/D,MAAQ,CACNgE,YAAa,GACbC,WAAY,EACZ/B,OAAQ,GACRzC,cAAe,GACfyE,MAAO,M,EAGT7D,iBAAmB,SAAAJ,GACjBnB,EAAoBmB,EAAO,GACxBkE,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACJ,EAAK7D,SAAS,CACZ0D,WAAY,EACZD,YAAa/D,EACbiC,OAAQ/C,EAAaiF,EAAKC,WAG7BC,OAAM,SAAAJ,GAAK,OAAI,EAAK3D,SAAS,CAAE2D,c,EAGpC/B,qBAAuB,WACrB,EAAK5B,UACH,SAAA8C,GAAS,MAAK,CACZY,WAAYZ,EAAUY,WAAa,KAFvC,sBAIE,gCAAAM,EAAA,+DACsC,EAAKvE,MAAjCgE,EADV,EACUA,YAAaC,EADvB,EACuBA,WADvB,SAEQnF,EAAoBkF,EAAaC,GACpCE,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACJ,EAAK7D,UAAS,SAAA8C,GAAS,MAAK,CAC1BnB,OAAO,GAAD,mBAAMmB,EAAUnB,QAAhB,YAA2B/C,EAAaiF,EAAKC,eAGtDC,OAAM,SAAAJ,GAAK,OAAI,EAAK3D,SAAS,CAAE2D,aARpC,OASErB,OAAO2B,SAAS,CACdC,IAAK5B,OAAO6B,QAAU7B,OAAO8B,YAC7BC,SAAU,WAXd,6C,EAiBJrD,iBAAmB,YAAiB,IAAdd,EAAa,EAAbA,OACZyB,EAAW,EAAKlC,MAAhBkC,OACA3C,EAAOkB,EAAOoE,QAAdtF,GACAE,EAAkByC,EAAO4C,MAAK,SAAAxD,GAAK,OAAIA,EAAM/B,KAAOwF,OAAOxF,MAA3DE,cACR,EAAKc,SAAS,CAAEd,mB,EAGlB6D,iBAAmB,WACjB,EAAK/C,SAAS,CAAEd,cAAe,M,wEAGvB,IAAD,EACkCkB,KAAKX,MAAtCkC,EADD,EACCA,OAAQzC,EADT,EACSA,cAAeyE,EADxB,EACwBA,MAC/B,OACE,oCACE,kBAAC,EAAD,CAAY7D,iBAAkBM,KAAKN,mBAClC6B,EAAO8C,OAAS,GACf,kBAAC,EAAD,CACE9C,OAAQA,EACRC,qBAAsBxB,KAAKwB,qBAC3BZ,iBAAkBZ,KAAKY,mBAG1B9B,EAAcuF,OAAS,GACtB,kBAAC,EAAD,CACEvF,cAAeA,EACf6D,iBAAkB3C,KAAK2C,mBAG1BY,GAAS,4DAAkCA,EAAMe,c,GAxEhC7D,aCDX8D,G,MAFH,kBAAM,kBAAC,EAAD,Q,MCElBC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U,kBCLjD3G,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,qBAAqB,IAAM,sB","file":"static/js/main.73b85b32.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__2tJtw\",\"input\":\"SearchForm_input__35G17\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2upEY\",\"button\":\"Gallery_button__3ss2w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__2a7Qa\",\"image\":\"PhotoCard_image__1-Rz0\",\"stats\":\"PhotoCard_stats__2CsyL\",\"statsItem\":\"PhotoCard_statsItem__1Vp3y\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__XmVie\"};","import axios from 'axios';\n\nconst API_KEY = '13135651-038714fd5931f83068ad66fd3';\nconst URL = `https://pixabay.com/api/?key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\nconst fetchImagesFunction = (query, page) =>\n  axios.get(`${URL}&q=${query}&page=${page}`);\n\nexport default fetchImagesFunction;\n","const imagesMapper = arr =>\n  arr.map(el => ({\n    id: el.id,\n    webformatURL: el.webformatURL,\n    largeImageURL: el.largeImageURL,\n    likes: el.likes,\n    views: el.views,\n    comments: el.comments,\n    downloads: el.downloads,\n    tags: el.tags,\n  }));\n\nexport default imagesMapper;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n  state = {\n    input: '',\n  };\n\n  static propTypes = {\n    handleFormSubmit: PropTypes.func.isRequired,\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { input } = this.state;\n    const { handleFormSubmit } = this.props;\n    handleFormSubmit(input);\n    this.setState({ input: '' });\n  };\n\n  handleInput = ({ target }) => {\n    this.setState({ input: target.value });\n  };\n\n  render() {\n    const { input } = this.state;\n    return (\n      <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          className={styles.input}\n          onChange={this.handleInput}\n          value={input}\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\n\nconst GalleryItem = ({\n  photo: { id, webformatURL, likes, views, comments, downloads, tags },\n  handleLargeImage,\n}) => (\n  <div className={styles.photoCard}>\n    <img src={webformatURL} alt={tags} className={styles.image} />\n\n    <div className={styles.stats}>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">thumb_up</i>\n        {likes}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">visibility</i>\n        {views}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">comment</i>\n        {comments}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">cloud_download</i>\n        {downloads}\n      </p>\n    </div>\n\n    <button\n      type=\"button\"\n      className={styles.fullscreenButton}\n      data-id={id}\n      onClick={handleLargeImage}\n    >\n      <i className=\"material-icons\" data-id={id}>\n        zoom_out_map\n      </i>\n    </button>\n  </div>\n);\n\nGalleryItem.propTypes = {\n  photo: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    tags: PropTypes.string.isRequired,\n  }).isRequired,\n  handleLargeImage: PropTypes.func.isRequired,\n};\n\nexport default GalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from './PhotoCard/PhotoCard';\nimport styles from './Gallery.module.css';\n\nconst Gallery = ({ photos, handleLoadMoreButton, handleLargeImage }) => (\n  <>\n    <ul className={styles.gallery}>\n      {photos.map(photo => (\n        <PhotoCard\n          key={photo.id}\n          photo={photo}\n          handleLargeImage={handleLargeImage}\n        />\n      ))}\n    </ul>\n    <button\n      type=\"button\"\n      className={styles.button}\n      onClick={handleLoadMoreButton}\n    >\n      Load more\n    </button>\n  </>\n);\n\nGallery.propTypes = {\n  photos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n      tags: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  handleLoadMoreButton: PropTypes.func.isRequired,\n  handleLargeImage: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  state = {\n    isModalOpen: true,\n  };\n\n  static propTypes = {\n    largeImageURL: PropTypes.string.isRequired,\n    handleModalClose: PropTypes.func.isRequired,\n  };\n\n  overlayRef = createRef();\n\n  componentDidMount = () => {\n    window.addEventListener('keydown', this.handleKeyPress);\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  };\n\n  handleKeyPress = event => {\n    if (event.code !== 'Escape') return;\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      isModalOpen: !prevState.isModalOpen,\n    }));\n    this.props.handleModalClose();\n  };\n\n  handleOverlayClick = event => {\n    const { current } = this.overlayRef;\n    if (current && event.target !== current) return;\n    this.toggleModal();\n  };\n\n  render() {\n    const { largeImageURL } = this.props;\n    const { isModalOpen } = this.state;\n    return (\n      <>\n        {isModalOpen && (\n          <div\n            className={styles.overlay}\n            onClick={this.handleOverlayClick}\n            ref={this.overlayRef}\n            role=\"presentation\"\n          >\n            <div className={styles.modal}>\n              <img src={largeImageURL} alt=\"\" className={styles.img} />\n            </div>\n          </div>\n        )}\n      </>\n    );\n  }\n}\nModal.propTypes = {\n  // bla: PropTypes.string,\n};\nModal.defaultProps = {\n  // bla: 'test',\n};\nexport default Modal;\n","import React, { Component } from 'react';\nimport fetchImagesFunction from '../../helpers/fetchImagesFunction';\nimport imagesMapper from '../../helpers/imagesMapper';\nimport SearchForm from './SearchForm/SearchForm';\nimport Gallery from './Gallery/Gallery';\nimport Modal from './Modal/Modal';\n\nclass ImageFinder extends Component {\n  state = {\n    searchQuery: '',\n    pageNumber: 1,\n    photos: [],\n    largeImageURL: '',\n    error: null,\n  };\n\n  handleFormSubmit = input => {\n    fetchImagesFunction(input, 1)\n      .then(({ data }) =>\n        this.setState({\n          pageNumber: 1,\n          searchQuery: input,\n          photos: imagesMapper(data.hits),\n        }),\n      )\n      .catch(error => this.setState({ error }));\n  };\n\n  handleLoadMoreButton = () => {\n    this.setState(\n      prevState => ({\n        pageNumber: prevState.pageNumber + 1,\n      }),\n      async () => {\n        const { searchQuery, pageNumber } = this.state;\n        await fetchImagesFunction(searchQuery, pageNumber)\n          .then(({ data }) =>\n            this.setState(prevState => ({\n              photos: [...prevState.photos, ...imagesMapper(data.hits)],\n            })),\n          )\n          .catch(error => this.setState({ error }));\n        window.scrollTo({\n          top: window.scrollY + window.innerHeight,\n          behavior: 'smooth',\n        });\n      },\n    );\n  };\n\n  handleLargeImage = ({ target }) => {\n    const { photos } = this.state;\n    const { id } = target.dataset;\n    const { largeImageURL } = photos.find(photo => photo.id === Number(id));\n    this.setState({ largeImageURL });\n  };\n\n  handleModalClose = () => {\n    this.setState({ largeImageURL: '' });\n  };\n\n  render() {\n    const { photos, largeImageURL, error } = this.state;\n    return (\n      <>\n        <SearchForm handleFormSubmit={this.handleFormSubmit} />\n        {photos.length > 0 && (\n          <Gallery\n            photos={photos}\n            handleLoadMoreButton={this.handleLoadMoreButton}\n            handleLargeImage={this.handleLargeImage}\n          />\n        )}\n        {largeImageURL.length > 0 && (\n          <Modal\n            largeImageURL={largeImageURL}\n            handleModalClose={this.handleModalClose}\n          />\n        )}\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n      </>\n    );\n  }\n}\n\nexport default ImageFinder;\n","import React from 'react';\nimport ImageFinder from '../ImageFinder/ImageFinder';\nimport './App.css';\n\nconst App = () => <ImageFinder />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3QtbG\",\"modal\":\"Modal_modal__a_jiC\",\"img\":\"Modal_img__Luvr_\"};"],"sourceRoot":""}